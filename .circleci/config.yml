version: 2.1
workflows:
  testing:
    jobs:
      - runner
jobs:
  runner:
    machine: true
    resource_class: medium
    steps:
      - checkout
      - run: mvn test
     working_directory: ~repo
    steps:
      - run:
          name: Creating Dummy Artifacts
          command: |
            echo "my artifact file" > ~repo/artifact-1;
            mkdir /tmp/artifacts;
            echo "my artifact files in a dir" > ~repo/artifacts/artifact-2;

      - store_artifacts:
          path: ~repo/artifact-1
          destination: artifact-file

      - store_artifacts:
          path: ~repo/artifacts
